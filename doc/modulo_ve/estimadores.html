
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Diseño de estimadores &#8212; Diseño Control</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/translations.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="index" title="Índice" href="../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="Formas canónicas de un espacio de estados" href="formas_canonicas.html" />
    <link rel="prev" title="Análisis de los sistemas en su forma de espacio de estados" href="ctrb_obsv.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      <img src="../../_static/sala_de_control.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Diseño Control</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Buscar este libro ..." aria-label="Buscar este libro ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   Material de la materia Elementos de Control
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Introducción a Python
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../guia_de_instalacion.html">
   Guía de instalación de las herramientas computacionales
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../intro_python/Introducci%C3%B3n%20a%20los%20notebooks%20de%20Jupyter.html">
   Introducción a los cuadernos de Jupyter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../intro_python/Extra_Python.html">
   Introducción a Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../intro_python/Intro-Matplotlib.html">
   Figuras en Python - MATPLOTLIB
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../intro_python/intro_sympy.html">
   Introducción a SymPy
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Señales, sistemas y modelos
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo1/intro_sys_sen/intro_sis_y_sen.html">
   Definiciones de Sistemas y Señales
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo1/laplace/transformada_laplace_python_opcional.html">
   Transformada de Laplace
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo1/laplace/funcion_transferencia.html">
   Función transferencia
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo1/diagrama_bloques/diagrama_de_bloques.html">
   Diagramas de bloques
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../modulo1/espacio_estado/espacio_de_estados.html">
   Representación de sistemas dinámicos en espacio de estados
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../modulo1/espacio_estado/modelado_ss.html">
     Modelado en espacio de estados
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo1/linealizacion/linealizacion.html">
   Linealización de sistemas no-lineales
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../modulo1/ejemplos_sistemas/ejemplos_sistemas.html">
   Ejemplos de modelos de sistemas
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../modulo1/ejemplos_sistemas/resorte_no_lineal.html">
     Sistema masa resorte amortiguador
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../modulo1/ejemplos_sistemas/CineticaPuntual.html">
     Ecuaciones de Cinética Puntual
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../modulo1/ejemplos_sistemas/Nonlinear%20CSTR.html">
     Sistema CSTR
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../modulo1/ejemplos_sistemas/Ejemplo_Presa_Depredador.html">
     Sistema presa depredador (Lotka-Volterra)
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Análisis de la respuesta temporal
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo2/estabilidad/estabilidad.html">
   Estabilidad
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo2/respuesta%20temporal/Respuesta%20Temporal.html">
   Respuesta temporal de sistemas dinámicos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo2/polos%20y%20ceros%20adicionales/Efecto%20Polos%20y%20Ceros%20Adicionales.html">
   Efecto de los polos adicionales y de los ceros
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Análisis de estado estacionario
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo3/realimentacion/carateristicas%20de%20la%20realimentacion.html">
   Características de la realimentación
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo3/sensibilidad/Sensibilidad.html">
   Sensibilidad
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo3/errores/Errores.html">
   Errores
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Lugar de las raíces
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo4/lugar%20de%20las%20raices.html">
   Lugar de las raíces
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo4/Pasos%20para%20el%20trazado.html">
   Pasos para trazar el lugar geométrico de las raíces
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo4/Lugar%20de%20la%20raices%20con%20Python.html">
   Lugar de las raíces usando Python
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Respuesta en frecuencia
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo_frec/respuesta_frecuencial.html">
   Respuesta Frecuencial de Sistemas lineales y SISO
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo_frec/estabilidad_nyquist/estabilidad_en_frecuencia.html">
   Estabilidad en Frecuencia
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Diseño de compensadores
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo5/compensadores.html">
   Compensadores de adelanto y de retraso de fase
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo5/problema_levitador.html">
   Problema de levitador magnético
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo5/tipo1_lead.html">
   Problema con sistema de tipo 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../modulo5/lead_lag_design.html">
   Ecuaciones útiles para el diseño del Lead por análisis en frecuencia
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Control Moderno
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="ctrb_obsv.html">
   Análisis de los sistemas en su forma de espacio de estados
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Diseño de estimadores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="formas_canonicas.html">
   Formas canónicas de un espacio de estados
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="transformacion_formas_canonicas.html">
   Transformación lineal del espacio de estado
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="referencia.html">
   Inserción de referencias
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ejemplo_A_ve_motor_cc.html">
   Diseño para un motor de continua
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ejemplo_B_ve_atitud_satelite.html">
   Diseño del sistema de control del atitud de un satélite
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ejemplo_C_ve_pendulo_invertido.html">
   Diseño del sistema de control del pédulo invertido
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Navegación de palanca" aria-controls="site-navigation"
                title="Navegación de palanca" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Descarga esta pagina"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        <a class="dropdown-buttons"
            href="../../_sources/doc/modulo_ve/estimadores.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Descargar archivo de cuaderno" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/doc/modulo_ve/estimadores.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Descargar archivo fuente" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Imprimir en PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/gonmolina/control-interactive-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Repositorio de origen"><i
                    class="fab fa-github"></i>repositorio</button></a>
        <a class="issues-button"
            href="https://github.com/gonmolina/control-interactive-book/issues/new?title=Issue%20on%20page%20%2Fdoc/modulo_ve/estimadores.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Abrir un problema"><i class="fas fa-lightbulb"></i>Tema abierto</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Modo de pantalla completa"
        title="Modo de pantalla completa"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/gonmolina/control-interactive-book/master?urlpath=tree/book/doc/modulo_ve/estimadores.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Lanzamiento Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contenido
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#estimador-de-orden-completo">
   Estimador de orden completo
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#estimador-de-orden-reducido">
   Estimador de orden reducido
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#retomamos-el-ejemplo-de-pendulo">
   Retomamos el ejemplo de péndulo
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#calculo-del-obsrevador-completo">
     Cálculo del obsrevador completo
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#calculo-del-observador-reducido">
     Calculo del observador reducido
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="diseno-de-estimadores">
<h1>Diseño de estimadores<a class="headerlink" href="#diseno-de-estimadores" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Hasta ahora aprendimos a obetner la ley de control suponiendo conocido el vetor de estados. En general en control no se mido de forma completa todos lo estados del sistema. Por lo tanto será necesario contruir un sistema que nos permita <strong>estimar</strong> los estados de la planta que quremos controlar a partir de lsa varaibles que conocemos. En general las variables que conocemos son las <em>salidas</em> (mediciones) y las <em>entradas</em> que son las variables que no da nuestro controlador y que serán entradas de los acutadores de la planta.</p>
<div class="section" id="estimador-de-orden-completo">
<h2>Estimador de orden completo<a class="headerlink" href="#estimador-de-orden-completo" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Con el modelo de la planta, suponiendo que es fiel a la realidad, uno podría pensar en darle las mismas entradas que tiene la planta y de obtener los estados del modelo directamente. Sin embargo esto choca con dos problemas:</p>
<ul class="simple">
<li><p>se debe conocer las condiciones iniciales en todo momento, sino el sistema tardará lo que corresponda para  según sus modos para obtener una estimación correcta.</p></li>
<li><p>cualuier error en el modelado pueda hacer diverger las estiaciones respecto al vaor de los estados reales sin ningún control de las mismas.</p></li>
</ul>
<p>Por estos problemas, es que se hace lo que mejor hacemos en control, <strong>REALIMENTAR</strong>.</p>
<p>La idea es utilizar lo que sabemos de la salida tanto del modelo como de la planta para obtener una estimación de los estados.</p>
<p>Llamando <span class="math notranslate nohighlight">\(\mathbf {\hat x}\)</span> a la estimación de <span class="math notranslate nohighlight">\(\mathbf x\)</span> lo que se propone es un estimador que siga la siguiente escuciones:</p>
<div class="math notranslate nohighlight">
\[\dot{ \hat{ \mathbf{x}}}=\mathbf A\hat{\mathbf{x}}+\mathbf B u+\mathbf L(y-\mathbf C \hat{\mathbf{x}})\]</div>
<p>Definimos entonces error de estimación como:
$<span class="math notranslate nohighlight">\(\tilde{\mathbf x} = \mathbf x -  \mathbf {\hat {\mathbf x}}\)</span>$</p>
<p>Por lo tanto la dinámica del error de estimación resulta:
$<span class="math notranslate nohighlight">\(\dot {\tilde {\mathbf{ x}}} = (\mathbf A - \mathbf{LC})\tilde {\mathbf x}\)</span>$</p>
<p>La ecuación caraterística del error de estimación entonces e:
$<span class="math notranslate nohighlight">\(\det\left[s\mathbf I -(\mathbf{A-LC}\right)]=0\)</span>$</p>
<p>Esta ecuación no esta dicendo que podemos elegir un <span class="math notranslate nohighlight">\(\mathbf L\)</span> de forma tal que la dinámica del error sea la que querramos.</p>
<p>Si se compara con la de la ley de control:</p>
<div class="math notranslate nohighlight">
\[\det\left[s\mathbf I -(\mathbf{A-BK}\right)]=0\]</div>
<p>podemos ver ciertas simiitudes o semejanzas.</p>
<p>Por ejemplo, si transponemos la ecuación caraterística del observador resulta:</p>
<div class="math notranslate nohighlight">
\[\det\left[s\mathbf I -(\mathbf{A'-C'L'}\right)]=0\]</div>
<p>De esta ecuación podemos ver que <span class="math notranslate nohighlight">\(\mathbf L\)</span> de forma análoga a como obtenemos <span class="math notranslate nohighlight">\(\mathbf K\)</span>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">L</span><span class="o">=</span><span class="p">(</span><span class="n">acker</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">T</span><span class="p">,</span><span class="n">C</span><span class="o">.</span><span class="n">T</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>

</pre></div>
</div>
<p>Siguiendo con el análisis análogo al de la ley de control, se puede decir que:</p>
<p><strong>solo podremos tener una única L que no permite ubicar los polos de la dinámica del error de estimación si y solo si el sistema es observable</strong></p>
<p>Y el sistema es observable si y solo si el rango de la matriz de obserbavilidad <span class="math notranslate nohighlight">\(\mathcal O\)</span> es igual al orden <span class="math notranslate nohighlight">\(n\)</span> del sistema.</p>
<p>A esto se lo conoce como <strong>dualidad</strong> entre los problemas de control y estimación.</p>
</div>
<div class="section" id="estimador-de-orden-reducido">
<h2>Estimador de orden reducido<a class="headerlink" href="#estimador-de-orden-reducido" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La idea de este estimador es reducir el orden del mismo.
Para esto lo que se busca es no estimar las varaibles que se conocen de antemano, es decir las mediciones.</p>
<p>Escribamos el sistema como:
$<span class="math notranslate nohighlight">\(\begin{bmatrix}
\dot {x_a} \\
\dot{\mathbf{ x}_b}\end{bmatrix}=
\begin{bmatrix} A_{aa}&amp;\mathbf A_{ab}\\
\mathbf A_{ba} &amp; \mathbf{A}_{bb}\end{bmatrix}\begin{bmatrix}
x_a \\
\mathbf x_b\end{bmatrix}\)</span><span class="math notranslate nohighlight">\(
\)</span><span class="math notranslate nohighlight">\(y=[1 \quad\mathbf 0]\begin{bmatrix} x_a \\ \mathbf{x}_b\end{bmatrix}\)</span>$</p>
<p>La dinámica de las variables no medidas está dada por:
$<span class="math notranslate nohighlight">\(\mathbf {\dot x}_b = \mathbf {A}_{bb}\mathbf{x}_b + \underbrace{\mathbf{A}_{ba} x_a + \mathbf B_bu}_{\text{entradas conocidas}}\)</span>$</p>
<p>La ecuación de salida y de las variables de estado conocidas la podemos expresar como:
$<span class="math notranslate nohighlight">\(\underbrace{\dot y - A_{aa}y - B_au}_{\text{mediciones conocidas}} =\mathbf A_{ab}\mathbf{x}_b\)</span>$</p>
<p>De esta manera podemos hacer un equivalente con el estimador de orden completo.</p>
<p>La primer ecuación la podemos comparar con la ecuación de la dinámica del estimador y la segunda ecuación la podemos comparar con la ecuación de salida, ambas del trabajo realizado para el estimador completo.</p>
<p>Haciendo esto tenemos que:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{eqnarray}
\mathbf{x} &amp;\leftarrow&amp;\mathbf x_b\\
\mathbf{A} &amp;\leftarrow&amp;\mathbf A_{bb}\\
\mathbf{B}u &amp;\leftarrow&amp;\mathbf A_{ba}y+\mathbf B_{b}u\\
y &amp;\leftarrow&amp;\dot y - A_{aa}y-\mathbf B_{a}u\\
\mathbf{C} &amp;\leftarrow&amp;\mathbf A_{ab}\\
\end{eqnarray}\end{split}\]</div>
<p>Sustituyendo en las ecuaciones del estimador completo, podemos obtener que las variables estiamadas del estimador reducido tienen la siguiente dinámica:</p>
<div class="math notranslate nohighlight">
\[\mathbf {\dot {\hat x}}_b = \mathbf {A}_{bb}\mathbf{\hat{x}}_b + \underbrace{\mathbf{A}_{ba} y + \mathbf B_bu}_{\text{entradas}} + \mathbf L ( \underbrace{\dot y -A_{aa}y-B_a u}_{\text{mediciones}}-\mathbf A_{ab}\mathbf{\hat{x}_b})\]</div>
<p>Entonces definimos el error de estimación como:</p>
<div class="math notranslate nohighlight">
\[\mathbf{\tilde{x}_b}=\mathbf x_b-\mathbf{\hat{x}}_b\]</div>
<p>y obtenmos la siguiente dinámica del error:</p>
<div class="math notranslate nohighlight">
\[
\mathbf{\dot{\tilde{x}}}_b = \mathbf{\dot{x}_b}-\mathbf{\dot{\hat{x}}_b}
\]</div>
<div class="math notranslate nohighlight">
\[
\mathbf{\dot{\tilde{x}}}_b =  \mathbf {A}_{bb}\mathbf{x}_b + \mathbf{A}_{ba} x_a + \mathbf B_bu -  \mathbf {A}_{bb}\mathbf{\hat{x}}_b - \mathbf{A}_{ba} y - \mathbf B_bu - \mathbf L ( \dot y -A_{aa}y-B_a u-\mathbf A_{ab}\mathbf{\hat{x}_b})
\]</div>
<div class="math notranslate nohighlight">
\[
\mathbf{\dot{\tilde{x}}}_b =  \mathbf {A}_{bb}\mathbf{\tilde x}_b  - \mathbf L (\underbrace{\dot y - A_{aa}y - B_au}_{\mathbf A_{ab}\mathbf{x}_b}-\mathbf A_{ab}\mathbf{\hat{x}_b}) =  \mathbf {A}_{bb}\mathbf{\tilde x}_b  - \mathbf L \mathbf A_{ab}\mathbf{\tilde x}_b
\]</div>
<p>Finalmente:</p>
<div class="math notranslate nohighlight">
\[\mathbf{\dot{\tilde{x}}}_b=(\mathbf A_{bb} -\mathbf L \mathbf A_{ab})\mathbf{\tilde{x}}_b\]</div>
<p>y la ecuación caraterística resulta:</p>
<div class="math notranslate nohighlight">
\[\det\left[s\mathbf I -(\mathbf{A}_{bb}-\mathbf {LA}_{ab}\right)]=0\]</div>
<p>El problema que tiene el estimador es que depende de la derivada de <span class="math notranslate nohighlight">\(y\)</span>: uno mide <span class="math notranslate nohighlight">\(y\)</span> y a partir de esta varible resuelve <span class="math notranslate nohighlight">\(\dot y\)</span>, lo cual implica amplificar cualquier ruido presente en la medición:</p>
<div class="math notranslate nohighlight">
\[\mathbf {\dot {\hat x}}_b = (\mathbf {A}_{bb}-\mathbf L\mathbf A_{ab})\mathbf{\hat{x}}_b + (\mathbf{A}_{ba}-\mathbf L A_{aa})y + (\mathbf B_b- \mathbf L B_a) +\mathbf L \dot y \]</div>
<p>Para poder obetner una ecuación del estimador sin la reivada de medición, lo que se puede hacer es redefinir la variable de esado como:</p>
<div class="math notranslate nohighlight">
\[\mathbf x_c \overset{\Delta}{=}\mathbf{\hat{x}_b}-\mathbf Ly\]</div>
<p>Entonces la dinámica del este estimador resulta:
$<span class="math notranslate nohighlight">\(\mathbf {\dot {\hat x}}_c = (\mathbf {A}_{bb}-\mathbf L\mathbf A_{ab})\mathbf{\hat{x}}_b + (\mathbf{A}_{ba}-\mathbf L A_{aa})y + (\mathbf B_b- \mathbf L B_a)u \)</span>$</p>
<p>Para dejarlo todo en función de <span class="math notranslate nohighlight">\(\mathbf{x}_c\)</span>:
$<span class="math notranslate nohighlight">\(\mathbf {\dot {\hat x}}_c = (\mathbf {A}_{bb}-\mathbf L\mathbf A_{ab})(\mathbf{x}_c+\mathbf Ly) + (\mathbf{A}_{ba}-\mathbf L A_{aa})y + (\mathbf B_b- \mathbf L B_a)u \)</span>$</p>
<div class="math notranslate nohighlight">
\[\mathbf {\dot {\hat x}}_c = (\mathbf {A}_{bb}-\mathbf L\mathbf A_{ab})\mathbf{x}_c + (\mathbf{A}_{ba}-\mathbf L A_{aa} + \mathbf {A}_{bb} \mathbf L-\mathbf L\mathbf A_{ab}\mathbf L)y + (\mathbf B_b- \mathbf L B_a)u \]</div>
</div>
<div class="section" id="retomamos-el-ejemplo-de-pendulo">
<h2>Retomamos el ejemplo de péndulo<a class="headerlink" href="#retomamos-el-ejemplo-de-pendulo" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Obtener el estimador completo para el péndulo. Ubicar los polos del error del estiamdor en <span class="math notranslate nohighlight">\(10\omega_0\)</span>. Es decir 5 veces más rápido que los que ubicamos los polos de la ley de control.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w0</span><span class="o">=</span><span class="mi">2</span>
<span class="n">A</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="n">w0</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
<span class="n">B</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">C</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">D</span><span class="o">=</span><span class="mi">0</span>
<span class="n">sys</span><span class="o">=</span><span class="n">ctrl</span><span class="o">.</span><span class="n">ss</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">D</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="calculo-del-obsrevador-completo">
<h3>Cálculo del obsrevador completo<a class="headerlink" href="#calculo-del-obsrevador-completo" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">L</span><span class="o">=</span><span class="p">(</span><span class="n">ctrl</span><span class="o">.</span><span class="n">acker</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">A</span><span class="o">.</span><span class="n">T</span><span class="p">,</span><span class="n">sys</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">T</span><span class="p">,[</span><span class="mi">10</span><span class="o">*</span><span class="n">w0</span><span class="p">,</span><span class="mi">10</span><span class="o">*</span><span class="n">w0</span><span class="p">]))</span><span class="o">.</span><span class="n">T</span>
<span class="n">L</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[-40.],
       [396.]])
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="calculo-del-observador-reducido">
<h3>Calculo del observador reducido<a class="headerlink" href="#calculo-del-observador-reducido" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">A</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">Aaa</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span>
<span class="n">Aab</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span>
<span class="n">Aba</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">:,</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span>
<span class="n">Abb</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">:,</span><span class="mi">1</span><span class="p">:]</span>
<span class="n">Ba</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span>
<span class="n">Bb</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Lred</span><span class="o">=</span><span class="p">(</span><span class="n">ctrl</span><span class="o">.</span><span class="n">acker</span><span class="p">(</span><span class="n">Abb</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">Aab</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="o">*</span><span class="n">w0</span><span class="p">]))</span><span class="o">.</span><span class="n">T</span> <span class="c1"># notar que se tata de ubicar un solo polo</span>
<span class="n">Lred</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[20.]])
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./doc/modulo_ve"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="ctrb_obsv.html" title="previous page">Análisis de los sistemas en su forma de espacio de estados</a>
    <a class='right-next' id="next-link" href="formas_canonicas.html" title="next page">Formas canónicas de un espacio de estados</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          Por Dr. Ing. Gonzalo Molina; Ing. Juan Pablo Pierini<br/>
        
            &copy; Derechos de autor 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>